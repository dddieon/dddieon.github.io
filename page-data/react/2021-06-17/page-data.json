{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/react/2021-06-17/","result":{"data":{"site":{"siteMetadata":{"title":"Dilog","commentInfo":{"service":"utterances","disqusId":"our-blog-starter","utterancesId":"react-sprint/blog-starter"}}},"markdownRemark":{"id":"edc0b8d7-067a-5cc3-b95f-758b56cc3311","excerpt":"ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다. document.getElementBy를 지양하고 ref를 써야하는 이유 id는 중복선언을 하면 안된다. 하지만 사람은 언제나 실수를 할 수 있고, id를 중복선언할 수도 있다. (…ㅇㅅa…","html":"<blockquote>\n<p>ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다.</p>\n</blockquote>\n<h2>document.getElementBy를 지양하고 ref를 써야하는 이유</h2>\n<p>id는 중복선언을 하면 안된다.<br>\n하지만 사람은 언제나 실수를 할 수 있고, id를 중복선언할 수도 있다. (…ㅇㅅa;)</p>\n<p>이 경우에 전역적으로 작동하는 document.getElementById를 사용한다면<br>\n의도치 않게 다른 컴포넌트에까지 영향을 끼치게 된다.</p>\n<p>ref는 ref를 정의한 스코프 내에서만 작동하기 때문에<br>\nid 중복으로 인해 원하지 않는 결과가 생기는 것을 방지할 수 있다.</p>\n<h2>단계 1. 빈 객체로 useRef 선언</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> myRefs <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>키값을 사용해야 하니 null 말고 빈 객체를 디폴트로 쓴다.</p>\n<h2>단계 2. 선언한 ref 객체를 반복문에 넣어준다</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useRef<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Sample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> myRefs <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> arrayName <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"AA\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"BB\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"CC\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span>\n                arrayName<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n                        <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span> ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> myRefs<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> element<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                            <span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>반복문에서 생성된 3개의 DOM 엘리먼트는 각각의 참조값을 가진다.<br>\n이제 <code class=\"language-text\">myRefs.current.AA</code>, <code class=\"language-text\">myRefs.current.BB</code>, <code class=\"language-text\">myRefs.current.CC</code>를 사용해<br>\ndom을 조작할 수 있게 되었다.</p>\n<h2>단계 3. ref 사용해보기</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">useEffect(() =&gt; {\n    myRefs.current.CC.style.backgroundColor = &quot;red&quot;\n}, []);</code></pre></div>\n<p>CC는 빨개진다.</p>\n<p>끝!</p>","frontmatter":{"title":"[react] useRef를 반복문에서 사용하기","date":"June 17, 2021","description":"ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다.","category":"react"},"fields":{"slug":"/react/2021-06-17/"}},"previous":{"fields":{"slug":"/diary/2021-06-13/"},"frontmatter":{"title":"문창과(문예창작학과) 전공자가 개발자가 되는 이야기"}},"next":{"fields":{"slug":"/react/2021-08-04/"},"frontmatter":{"title":"Redux Saga 사용하는 이유와 세팅 메모"}},"allMarkdownRemark":{"group":[{"fieldValue":"diary"},{"fieldValue":"react"}],"nodes":[{"excerpt":"대충 saga의 작동방식  Thunk와 차이: Thunk에선 제공하지 않는 기능도 있음 setTimeout…","html":"<h2>대충 saga의 작동방식</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eab4f10f843908c80f0d48508ca3ff78/6acbf/saga2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.89873417721519%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVQoz42S228SURDGN+FFo4mtC9QuhdIVSosINvSC1iY+WN9ao7FQjIkFWjUobaq+Vh+8JiYm/EW1l3cTbfTRGNKm4bYgyEV2+bmQUE2N0S+ZMyfnzHzfzJwjKIpCLpenVquRTqfJ5nIUlTy5bIa9vT2y2SyapvKtoLC/v08qlSKfV1h5+JiR0QAXJ6cIjI/jGnTyZG0NodFoUK/XaflqtUqtodJUMtR1oVK1RqVaR9Xv1GqJHxrtGE3TmA+FMFsHcHl9SE43R7tNxBPLCJlMBkVXL5VKdNCsFKFR4RdU0Mqtm4OTl69ec3l6munrc1yaj+K/MsvzN28RCl8+onz9TDG9qys32+otfPrwnsVohPjibR7cjXIvcovYzRtEFxZYWrrDtauzPH32gl2lTCGXJa+P6Hu5jMAhqKra9u82NunukeizSvTbJCSrBdFkRDSexGwWOXL8GJGVR4fTEZrNJr9bh3B7c4OBYQ++C5OMnQ/gm5hg0OtBdrtxeM4i2mWWV1cPimh11soX9JW2HapwSye0D3uxj05hPxfA6h3D5nTRJzvpdwzRdaKL+/F4O7ZD1q7wby1vb20hu9yM+P34fR7ODLlwyAPIsh3HaRlRFEkkEv9PuL6+jvlULxabnV5JwmK1Yu4xY9TnZzSZMBgMxGKxfxN2XnlnZ4dQMEgwOEdQ/3NBfR/SfcvC4TAzMzMkk8k/CH8Ch/hYvW3TRqYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"saga패턴\"\n        title=\"saga패턴\"\n        src=\"/static/eab4f10f843908c80f0d48508ca3ff78/f058b/saga2.png\"\n        srcset=\"/static/eab4f10f843908c80f0d48508ca3ff78/c26ae/saga2.png 158w,\n/static/eab4f10f843908c80f0d48508ca3ff78/6bdcf/saga2.png 315w,\n/static/eab4f10f843908c80f0d48508ca3ff78/f058b/saga2.png 630w,\n/static/eab4f10f843908c80f0d48508ca3ff78/40601/saga2.png 945w,\n/static/eab4f10f843908c80f0d48508ca3ff78/6acbf/saga2.png 1001w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Thunk와 차이: Thunk에선 제공하지 않는 기능도 있음</h2>\n<ul>\n<li>setTimeout을 쉽게 구현하는 기능이나,</li>\n<li>쓰로틀링: 중복요청을 막는 방법. 마지막 요청만 인정해주거나 시간당 횟수 제한 등이 가능\n⇒ (스크롤이벤트시 요청이 수백개 가는 것을 방지할 때 씀)</li>\n</ul>\n<h2>설치</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i redux-saga <span class=\"token operator\">||</span> <span class=\"token function\">npm</span> i next-redux-saga</code></pre></div>\n<h2>제너레이터의 원리로 만들어진다 (생성자 함수)</h2>\n<ul>\n<li>Generator : 빠져나갔다가 나중에 다시 돌아와도 사용가능한 함수. 이때 컨텍스트(변수 값)는 출입 과정에서 저장된 상태로 남아 있다.</li>\n</ul>\n<h2>사가 이펙트를 통한 여러 기능들</h2>\n<ol>\n<li>all : 배열을 받아와 한꺼번에 실행</li>\n<li><strong>fork</strong> : 비동기함수호출(요청 <strong>안기다림</strong>)</li>\n<li><strong>call</strong> : 동기함수호출(요청을 <strong>기다림</strong> - .then()처럼 작동)</li>\n<li>take : 액션을 기다림</li>\n<li>put : dispatch 와 동일</li>\n<li>delay</li>\n<li>debounce</li>\n<li>throttle</li>\n<li>takeLatest: 기존에 진행 중이던 작업이 있다면 취소 처리하고 가장 마지막으로 실행된 작업만 수행한다. (더블클릭 방지 등)</li>\n<li>takeEvery: take가 비동기로 동작함</li>\n<li>…</li>\n</ol>\n<h2>사용방법</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// 2개가 한 묶음이라고 보면 됨 (api요청함수 따로 / 요청감지함수 따로)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">logInAPI</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/api/login'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">logIn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token function\">delay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">//const result = yield call(logInAPI, action.data);</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      type<span class=\"token operator\">:</span> <span class=\"token constant\">LOG_IN_SUCCESS</span><span class=\"token punctuation\">,</span>\n      data<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> <span class=\"token comment\">//성공결과</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      type<span class=\"token operator\">:</span> <span class=\"token constant\">LOG_IN_FAILURE</span><span class=\"token punctuation\">,</span>\n      error<span class=\"token operator\">:</span> e<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> <span class=\"token comment\">//실패결과</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>saga가 요청을 감지하는 기능: take나 takeLatest나 takeEvery</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">//1 while문 쓰기</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">watchLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//이벤트리스너처럼 동작: 비동기액션생성함수가 \"특정이벤트\" 감지(두번째 매개변수 logIn을 감지한다)</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">yield</span> <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LOG_IN_REQUEST'</span><span class=\"token punctuation\">,</span> logIn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//2 takeEvery 쓰기</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> takeEvery <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">watchLogin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">takeEvery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'LOG_IN_REQUEST'</span><span class=\"token punctuation\">,</span> logIn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>단, takeEvery시에는 서버쪽으로 요청은 연속으로 보내진다.</li>\n<li>응답만 취소할 뿐! 그러니 <strong>서버쪽에서 중복요청을 취소</strong>하도록 하자.</li>\n<li>일정시간동안 요청 막는 법인 throttle도 있다.</li>\n</ul>\n<h2>세팅 방법</h2>\n<ul>\n<li>컴바인리듀서 처럼 복잡하진 않다</li>\n<li>index.js에 여러 saga들을 묶어주자…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// sagas/post.js</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">postSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>watchAddPost<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// sagas/index.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> all<span class=\"token punctuation\">,</span> fork <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'redux-saga/effects'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> postSaga <span class=\"token keyword\">from</span> <span class=\"token string\">'./post'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> userSaga <span class=\"token keyword\">from</span> <span class=\"token string\">'./user'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span><span class=\"token operator\">*</span> <span class=\"token function\">rootSaga</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">yield</span> <span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>postSaga<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">fork</span><span class=\"token punctuation\">(</span>userSaga<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","fields":{"slug":"/react/2021-08-04/"},"frontmatter":{"date":"August 04, 2021","title":"Redux Saga 사용하는 이유와 세팅 메모","description":"Thunk에서 제공하지 않는 기능을 제공하는 편이다. 특정 request를 보내면 호출한 것을 감지하는 일종의 이벤트리스너 같은 모습이다.","category":"diary"}},{"excerpt":"ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다. document.getElementBy를 지양하고 ref를 써야하는 이유 id는 중복선언을 하면 안된다. 하지만 사람은 언제나 실수를 할 수 있고, id…","html":"<blockquote>\n<p>ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다.</p>\n</blockquote>\n<h2>document.getElementBy를 지양하고 ref를 써야하는 이유</h2>\n<p>id는 중복선언을 하면 안된다.<br>\n하지만 사람은 언제나 실수를 할 수 있고, id를 중복선언할 수도 있다. (…ㅇㅅa;)</p>\n<p>이 경우에 전역적으로 작동하는 document.getElementById를 사용한다면<br>\n의도치 않게 다른 컴포넌트에까지 영향을 끼치게 된다.</p>\n<p>ref는 ref를 정의한 스코프 내에서만 작동하기 때문에<br>\nid 중복으로 인해 원하지 않는 결과가 생기는 것을 방지할 수 있다.</p>\n<h2>단계 1. 빈 객체로 useRef 선언</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> myRefs <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>키값을 사용해야 하니 null 말고 빈 객체를 디폴트로 쓴다.</p>\n<h2>단계 2. 선언한 ref 객체를 반복문에 넣어준다</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>useRef<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Sample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> myRefs <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> arrayName <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"AA\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"BB\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">\"CC\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n        <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span>\n                arrayName<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n                        <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span> ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">element</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> myRefs<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> element<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n                            <span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">}</span>\n                        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n                    <span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>반복문에서 생성된 3개의 DOM 엘리먼트는 각각의 참조값을 가진다.<br>\n이제 <code class=\"language-text\">myRefs.current.AA</code>, <code class=\"language-text\">myRefs.current.BB</code>, <code class=\"language-text\">myRefs.current.CC</code>를 사용해<br>\ndom을 조작할 수 있게 되었다.</p>\n<h2>단계 3. ref 사용해보기</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">useEffect(() =&gt; {\n    myRefs.current.CC.style.backgroundColor = &quot;red&quot;\n}, []);</code></pre></div>\n<p>CC는 빨개진다.</p>\n<p>끝!</p>","fields":{"slug":"/react/2021-06-17/"},"frontmatter":{"date":"June 17, 2021","title":"[react] useRef를 반복문에서 사용하기","description":"ref를 객체로 정의하고, 반복적으로 노드에 대한 참조값을 저장합시다.","category":"react"}},{"excerpt":"개츠비 블로그를 처음으로 만들었다. 첫글은 역시 잡소리가 좋아보인다. 201…","html":"<blockquote>\n<p>개츠비 블로그를 처음으로 만들었다. 첫글은 역시 잡소리가 좋아보인다.</p>\n</blockquote>\n<h2>2015: 문예창작학과 입학</h2>\n<p>솔직히 난 어려운 책읽는 것은 고문이라 생각하고,<br>\n예술적인 감성은 없고,<br>\n널리 알리고 싶은 고매한 사상도 없다.<br>\n그냥 살다보니 문창과 전공생이 되었다.</p>\n<p>학창시절 교내 독서감상평 대회 같은게 열리면<br>\n네이버에서 검색한 책 줄거리를 짜집기한 다음에,<br>\n적당히 인도주의적인 주장을 덧붙여서 글을 쓰면 상을 받았다.<br>\n남의 생각을 훔쳐다 쓴 벌을 받았다고 생각한다.</p>\n<p>순수문학보다는 장르문학이 좋았고,<br>\n장르문학보다는 만화를 더 많이 봤고,<br>\n만화보다는 유튜브가 더 재밌었고,<br>\n유튜브보다는 게임이 더 즐거웠다.</p>\n<p>이처럼 순수문학을 하기엔 난 좀… 천박하다.</p>\n<h2>2016: 시각디자인 복수전공</h2>\n<p>다행히 자아성찰은 잘 되는 편이라<br>\n순수문학 전공과 달리 먹고살 길을 일찍이 찾아보았다.<br>\n평소에 관심이 있던 시각디자인학과 복수전공을 시작했다.</p>\n<p>타과생이라고 은근 무시하고 들어오는 <code class=\"language-text\">교수</code>들도,<br>\n그에 반응하는 내 <code class=\"language-text\">자격지심</code>도,<br>\n혼자 수업을 들어야 하는 <code class=\"language-text\">외로움</code>도,<br>\n4kg되는 무거운 <code class=\"language-text\">노트북 가방</code>을 들고 왕복 4시간 학교를 다니는 것도<br>\n뭐 다 참을 수 있었는데</p>\n<div class=\"attach\">Professor</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>과제<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'어떻게든 해간다'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'창의적인 도형을 만들어야 해. 어디서 본 것 같잖아.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'특징이 있는 기업을 생각해본다'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'이런 돈도 안되는 곳 말고, 대기업처럼 만들라고.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'그라데이션 컬러라도 넣어본다'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'그라데이션 넣지마.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'에라 모르겠다'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'말도 안되는 비율이야.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">case</span> <span class=\"token string\">'안해간다'</span><span class=\"token operator\">:</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'다음 주에는 더 해와.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n    <span class=\"token function\">과제에_엑스표시하기</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'엑스. 엑스. 엑스.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>방법론에 대해서는 아무것도 알려주지 않고<br>\n모순적인 평론을 늘어놓는 그 수업을 견디긴 힘들었다.<br>\n그런데 그 사람은 학과장이잖아…?<br>\n결국 시각디자인 복수전공도 그만뒀다.</p>\n<h2>2018: 휴학하고 영상공부하면서 돈벌기</h2>\n<p>그렇게 남들은 다 쌓는 스펙이나 자격증 하나 없이<br>\n인문학도로서의 4학년이 되었다. 와~</p>\n<p>소위 말하는 <strong>스펙쌓기</strong>를 하고자 1년을 휴학했다.<br>\n그 결과 곧바로 남자친구가 생겼는데<br>\n참 재미있는 인간유형이었다.<br>\n일본인이라서 자주 보지도 못하면서도<br>\n한 평생을 함께하고 싶을 정도로 좋아했다.<br>\n이 때 이후로는 무엇을 공부하던지<br>\n오로지 그 사람과 함께하기 위한 도구로서 연마했다.</p>\n<p>아무튼 공모전을 하면서 영상편집을 꽤 잘하게 됐는데<br>\n상을 받기도 했고,<br>\n무엇보다 공간에 제약을 받지 않는 편이니<br>\n영상공부를 하면 해외에서도 먹고 살 수 있을 것 같았다.<br>\n영상알바로 투잡을 뛰기도 했다.</p>\n<ul>\n<li>기획+일러스트+편집+모션그래픽까지 1인으로 뚝딱하던 그시절 산출물</li>\n</ul>\n<p><img src=\"/44711ddf182bf8d8cfd20440702d1a1c/portfolio2.gif\" alt=\"영상포트폴리오\"></p>\n<p>그런데 막상 영상을 진로로 잡고보니\n생각보다 안좋은 점들이 많았다.<br>\n단순편집이나 간단한 2D 모션그래픽까지는 쉬웠지만<br>\n그 이상의 프로페셔널한 아트워크를 만들어내기 위해서는<br>\n돈과 시간을 제물로 바쳐야 했지만<br>\n당장 눈 앞의 행복을 좇는 나에겐 불가능한 일이었다.<br>\n영상업계는.. 결국 내 길이 아니었다.</p>\n<p>웹디자인 공부나 해볼까? 하다가<br>\n웹디자이너는 코딩도 할 줄 알아야 해 -> 코딩을 공부하는 건가?\n-> 프론트엔드 개발자가 되어야지!<br>\n라는 결과가 도출됐다.</p>\n<h2>2020: 졸업하고 국비지원 퍼블리셔 과정 이수</h2>\n<p>2월에 졸업하면 곧바로 남자친구가 있는 도쿄로 슝~ 날아갈 생각이었다.<br>\n워킹홀리데이 비자를 받고 나면~<br>\n일본에서 아르바이트를 할 수 있을 것이고~<br>\n그러면 연애도 잘 할 수 있을 것이고~<br>\n개발공부도 할 수 있을거다~ 라고 막연하게 생각했다.<br>\n그런데 <strong>코로나</strong>가 터졌다. 와~ 😮 데다네~~<br>\n비행길까지 막혔다.</p>\n<p>슬프게도 한국에 남아 개발공부를 시작했다.<br>\n한 번도 프로그래밍 공부를 해본 적 없는<br>\n의지박약 비전공자를 붙잡고 공부시킬 학원이 필요했다.<br>\n그런데 비싼 학원 수업료를 낼 돈은 없었고,<br>\n바로 이수 가능한 국비과정엔 퍼블리셔 과정 뿐이었다.</p>\n<p>이미 쓸 줄 아는 포토샵 일러스트레이터를 1개월을 강제로 배워야 했다.<br>\n아무튼 디자인-HTML-CSS-Javascript-jQuery라는 NCS 맞춤형 퍼블리셔 과정을 이수했다.<br>\n나름 반에서 가장 열심히했다고 성적우수상같은걸 받았는데,<br>\n그래도 난 찔밥이었다.</p>\n<ul>\n<li>그시절 포폴</li>\n</ul>\n<p><img src=\"/f7b09c285c2813401516670d9bddfede/portfolio3.gif\" alt=\"웹포트폴리오\"></p>\n<p><del>외국인이 4개월 코딩 좀 배웠다고 일본에서 뭘 하겠는가.</del><br>\n코로나 시국은 조금도 나아지지 않았고 일본취업이 더 힘들어졌다.<br>\n결국 내가 할 수 있는 일은<br>\n서울에서 초급 리액트 개발자로 취업을 하는 것 뿐이었다.</p>\n<h2>2021: 그냥 쓰레기처럼 살고 있음</h2>\n<p>1년이 넘는 시간 사랑하는 사람 한 번 보러가지도 못하고<br>\n23살 이후로의 모든 인생을 갖다 바친<br>\n그 대단해보이던 연애도 끝이났다.</p>\n<p>그렇게 난<br>\n문학 0.15스푼, 일본어 0.6스푼, 디자인 1.2스푼, 영상 1.5스푼, 음악 0.5스푼, 개발 2.5스푼을<br>\n섞어 만든 키메라가 되었다.</p>\n<p>열정은 많은데 꿈이 없고<br>\n자신을 사랑하지도 못해 다른 사람을 사랑하려 하고<br>\n공부는 하기 싫은데 욕심만 많으면 이렇게 잡스택이 되는 것 같다.</p>\n<p>요즘엔 그냥 별 생각없이 하루하루 살고 있다.<br>\n얼굴 붉힐 필요도 없이<br>\n남에게 아쉬운 소리 할 필요 없이<br>\n무던하게 일할 수 있다는 이유만으로 개발업계가 참 마음에 든다.\n<del>짬차면 다르겠찌?</del></p>\n<p>고이는 걸 잘 못해서<br>\n백엔드든 프론트엔드든 일단 여러 갈래로 공부해보려고 한다.<br>\n아직도 나는 방향을 정하지 않았고<br>\n삶의 목적은 또다시 찾아야 할 것 같다.</p>","fields":{"slug":"/diary/2021-06-13/"},"frontmatter":{"date":"June 13, 2021","title":"문창과(문예창작학과) 전공자가 개발자가 되는 이야기","description":"개츠비 블로그를 처음으로 만들었다. 첫글은 역시 잡소리가 좋아보인다.","category":"diary"}}]}},"pageContext":{"id":"edc0b8d7-067a-5cc3-b95f-758b56cc3311","previousPostId":"8239d6de-a670-5cf9-b457-cfefceddfb2a","nextPostId":"5de7b499-c598-50ba-84cb-aaa61ff7d117"}},"staticQueryHashes":["2841359383","508672574"]}